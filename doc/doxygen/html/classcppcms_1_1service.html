<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CppCMS: cppcms::service Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CppCMS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecppcms.html">cppcms</a></li><li class="navelem"><a class="el" href="classcppcms_1_1service.html">service</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcppcms_1_1service-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cppcms::service Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represent the central event loop of the CppCMS applications.  
 <a href="classcppcms_1_1service.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="service_8h_source.html">cppcms/service.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cppcms::service:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcppcms_1_1service.png" usemap="#cppcms::service_map" alt=""/>
  <map id="cppcms::service_map" name="cppcms::service_map">
<area href="classbooster_1_1noncopyable.html" title="This class makes impossible to copy any class derived from this one. " alt="booster::noncopyable" shape="rect" coords="0,0,133,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a26f60fd155db4c12bbca92cc463a7760"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a26f60fd155db4c12bbca92cc463a7760">service</a> (<a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a> const &amp;v)</td></tr>
<tr class="separator:a26f60fd155db4c12bbca92cc463a7760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77580a0a9635690522039bb332118e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#ad77580a0a9635690522039bb332118e2">service</a> (int argc, char *argv[])</td></tr>
<tr class="separator:ad77580a0a9635690522039bb332118e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f7c16078dcdcfa204156f256d37569"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a77f7c16078dcdcfa204156f256d37569">~service</a> ()</td></tr>
<tr class="separator:a77f7c16078dcdcfa204156f256d37569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0c0e6d3662d50897dc6259f5b4c6921"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#ad0c0e6d3662d50897dc6259f5b4c6921">run</a> ()</td></tr>
<tr class="separator:ad0c0e6d3662d50897dc6259f5b4c6921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5967d1fc10810ae9e5d51dbb8b97ac47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a5967d1fc10810ae9e5d51dbb8b97ac47">shutdown</a> ()</td></tr>
<tr class="separator:a5967d1fc10810ae9e5d51dbb8b97ac47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2655891c41745defac52587b4ecae53b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a2655891c41745defac52587b4ecae53b">settings</a> ()</td></tr>
<tr class="separator:a2655891c41745defac52587b4ecae53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf83a77c439800f9ba1ce68961f95b97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1applications__pool.html">cppcms::applications_pool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#aaf83a77c439800f9ba1ce68961f95b97">applications_pool</a> ()</td></tr>
<tr class="separator:aaf83a77c439800f9ba1ce68961f95b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f52695695783504530983d5d76f44e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1thread__pool.html">cppcms::thread_pool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a9f52695695783504530983d5d76f44e7">thread_pool</a> ()</td></tr>
<tr class="separator:a9f52695695783504530983d5d76f44e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c49081c96953d0b02e8cbd4a729b247"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1session__pool.html">cppcms::session_pool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a3c49081c96953d0b02e8cbd4a729b247">session_pool</a> ()</td></tr>
<tr class="separator:a3c49081c96953d0b02e8cbd4a729b247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbb177352aa32283f8194fa05c810c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1views_1_1manager.html">cppcms::views::manager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#aecbb177352aa32283f8194fa05c810c0">views_pool</a> ()</td></tr>
<tr class="separator:aecbb177352aa32283f8194fa05c810c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc975674eecbb0e5140d72528c360c2d"><td class="memItemLeft" align="right" valign="top">cppcms::cache_pool &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#abc975674eecbb0e5140d72528c360c2d">cache_pool</a> ()</td></tr>
<tr class="separator:abc975674eecbb0e5140d72528c360c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf59dcf5c1c74473d41740340eb190ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppcms_1_1forwarder.html">cppcms::forwarder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#aaf59dcf5c1c74473d41740340eb190ee">forwarder</a> ()</td></tr>
<tr class="separator:aaf59dcf5c1c74473d41740340eb190ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f9fcc9c16fda65c4fb54eb2b9f0356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbooster_1_1locale_1_1generator.html">locale::generator</a> const &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a68f9fcc9c16fda65c4fb54eb2b9f0356">generator</a> ()</td></tr>
<tr class="separator:a68f9fcc9c16fda65c4fb54eb2b9f0356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666f313ee8231dfa6308bc540ff4dd82"><td class="memItemLeft" align="right" valign="top">std::locale&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a666f313ee8231dfa6308bc540ff4dd82">locale</a> ()</td></tr>
<tr class="separator:a666f313ee8231dfa6308bc540ff4dd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1156b822b3d91cc9a03ddccde8593a7b"><td class="memItemLeft" align="right" valign="top">std::locale&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a1156b822b3d91cc9a03ddccde8593a7b">locale</a> (std::string const &amp;name)</td></tr>
<tr class="separator:a1156b822b3d91cc9a03ddccde8593a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea811c88c82c9dfaf6cee56df55950c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbooster_1_1aio_1_1io__service.html">booster::aio::io_service</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#abea811c88c82c9dfaf6cee56df55950c">get_io_service</a> ()</td></tr>
<tr class="separator:abea811c88c82c9dfaf6cee56df55950c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29410e26d78c56c3f22389db5828cd0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a29410e26d78c56c3f22389db5828cd0c">post</a> (<a class="el" href="classbooster_1_1function.html">booster::function</a>&lt; void()&gt; const &amp;handler)</td></tr>
<tr class="separator:a29410e26d78c56c3f22389db5828cd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad67282579ff9dc0f8b9f1b720892b0b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#ad67282579ff9dc0f8b9f1b720892b0b2">after_fork</a> (<a class="el" href="classbooster_1_1function.html">booster::function</a>&lt; void()&gt; const &amp;handler)</td></tr>
<tr class="separator:ad67282579ff9dc0f8b9f1b720892b0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1a532d1d319cf5bba29bddda49f71f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#aaa1a532d1d319cf5bba29bddda49f71f">threads_no</a> ()</td></tr>
<tr class="separator:aaa1a532d1d319cf5bba29bddda49f71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed70fb14eb0f4abffee90a6d2ecf86b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a0ed70fb14eb0f4abffee90a6d2ecf86b">procs_no</a> ()</td></tr>
<tr class="separator:a0ed70fb14eb0f4abffee90a6d2ecf86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ab14c6be877768410325f35a4df8f66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#a4ab14c6be877768410325f35a4df8f66">process_id</a> ()</td></tr>
<tr class="separator:a4ab14c6be877768410325f35a4df8f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ade73778fd4913b7a8f2b76e9185dfa84"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppcms_1_1service.html#ade73778fd4913b7a8f2b76e9185dfa84">load_settings</a> (int argc, char *argv[])</td></tr>
<tr class="separator:ade73778fd4913b7a8f2b76e9185dfa84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represent the central event loop of the CppCMS applications. </p>
<p>This is the central class that is responsible for management of CppCMS services: management of HTTP requests and responses, sessions, cache and much more services. It is the central class that runs during execution of any CppCMS service. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a26f60fd155db4c12bbca92cc463a7760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppcms::service::service </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a> const &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new service, passing all configuration settings via <a class="el" href="classcppcms_1_1json_1_1value.html" title="This class is central representation of json objects. ">json::value</a> instead of parsing command line parameters. </p>

</div>
</div>
<a class="anchor" id="ad77580a0a9635690522039bb332118e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppcms::service::service </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse command line parameters, get the configuration file and additional options and create the service.</p>
<p>Note for Windows users: argv is assumed to be UTF-8 encoded strings, if you want pass non-ascii or "wide" parameters you need convert them from UTF-16 to UTF-8. For example you can use <a class="el" href="namespacebooster_1_1nowide.html#a9641be36b3697a2bc5fc5a150ec5dd8b">booster::nowide::convert</a> functions. </p>

</div>
</div>
<a class="anchor" id="a77f7c16078dcdcfa204156f256d37569"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppcms::service::~service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the service - the last class to go down.</p>
<p>Note, if you have asynchronous applications that are not owned the service class they must be destroyed before it </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad67282579ff9dc0f8b9f1b720892b0b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::service::after_fork </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbooster_1_1function.html">booster::function</a>&lt; void()&gt; const &amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute handler after forking processes (on POSIX platforms). This is useful when you want to start various asynchronous applications or services in separate processes. </p>

</div>
</div>
<a class="anchor" id="aaf83a77c439800f9ba1ce68961f95b97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1applications__pool.html">cppcms::applications_pool</a>&amp; cppcms::service::applications_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a <a class="el" href="classcppcms_1_1applications__pool.html" title="Application pool is the central class that holds user created applications. ">cppcms::applications_pool</a> instance of this service </p>

</div>
</div>
<a class="anchor" id="abc975674eecbb0e5140d72528c360c2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppcms::cache_pool&amp; cppcms::service::cache_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the cppcms::cache_pool instance of this service, never used directly by user level applications </p>

</div>
</div>
<a class="anchor" id="aaf59dcf5c1c74473d41740340eb190ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1forwarder.html">cppcms::forwarder</a>&amp; cppcms::service::forwarder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get <a class="el" href="classcppcms_1_1forwarder.html" title="Class responsble for automaticall forwarding of HTTP/CGI requests to other hosts over SCGI...">cppcms::forwarder</a> instance of this service </p>

</div>
</div>
<a class="anchor" id="a68f9fcc9c16fda65c4fb54eb2b9f0356"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbooster_1_1locale_1_1generator.html">locale::generator</a> const&amp; cppcms::service::generator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get locale::generator instance of this service </p>

</div>
</div>
<a class="anchor" id="abea811c88c82c9dfaf6cee56df55950c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbooster_1_1aio_1_1io__service.html">booster::aio::io_service</a>&amp; cppcms::service::get_io_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get low level central event loop of the CppCMS service that allows you to connect asynchronous application with generic asynchronous sockets API or create any asynchronous TCP/IP servers over it. </p>

</div>
</div>
<a class="anchor" id="ade73778fd4913b7a8f2b76e9185dfa84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a> cppcms::service::load_settings </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Load configuration settings from the command line parameters. This object can be passed to <a class="el" href="classcppcms_1_1service.html#a26f60fd155db4c12bbca92cc463a7760">service(json::value const &amp;v)</a> constructor allowing to alter these settings before creating the actual service object. </p>

</div>
</div>
<a class="anchor" id="a666f313ee8231dfa6308bc540ff4dd82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::locale cppcms::service::locale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the default locale for this service. </p>

</div>
</div>
<a class="anchor" id="a1156b822b3d91cc9a03ddccde8593a7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::locale cppcms::service::locale </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a locale by <em>name</em>, shortcut to <a class="el" href="classcppcms_1_1service.html#a68f9fcc9c16fda65c4fb54eb2b9f0356">generator()</a>.get(name); </p>

</div>
</div>
<a class="anchor" id="a29410e26d78c56c3f22389db5828cd0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::service::post </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbooster_1_1function.html">booster::function</a>&lt; void()&gt; const &amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Post an execution handler <em>handler</em> to the event loop queue. This member function is thread safe allowing safe communication between event loop thread (where all asynchronous applications run) and any other threads. </p>

</div>
</div>
<a class="anchor" id="a4ab14c6be877768410325f35a4df8f66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cppcms::service::process_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get current process identification number. Note, this is not getpid() function.</p>
<p>When CppCMS service manages preforked process pool, each process gets its own id starting from 1 to <a class="el" href="classcppcms_1_1service.html#a0ed70fb14eb0f4abffee90a6d2ecf86b">procs_no()</a> when the parent supervisor process gets an id 0. If one of the forked processes crash, it is replaced with a new process with same id.</p>
<p>So if an application want to run certain activity that can't be executed in multiple processes it can setup an after_fork handle that would check the process id and start this activity.</p>
<p>Under Windows and Cygwin it is always 0. </p>

</div>
</div>
<a class="anchor" id="a0ed70fb14eb0f4abffee90a6d2ecf86b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cppcms::service::procs_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of forked processes used by the service. Always 0 on Windows and Cygwin. </p>

</div>
</div>
<a class="anchor" id="ad0c0e6d3662d50897dc6259f5b4c6921"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::service::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the central even loop of CppCMS service. By default, it also install signal handlers on POSIX platforms to handle SIGINT, SIGTERM and SIGUSR1 signals or uses SetConsoleCtrlHandler on Windows platforms waiting on C, BREAK, CLOSE and SHUTDOWN events.</p>
<p>This even call <a class="el" href="classcppcms_1_1service.html#a5967d1fc10810ae9e5d51dbb8b97ac47">service::shutdown</a> function that stops the main event loop and shutdowns the service properly.</p>
<p>If you want to disable these handlers, you may set service.disable_global_exit_handling option to true. </p>

</div>
</div>
<a class="anchor" id="a3c49081c96953d0b02e8cbd4a729b247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1session__pool.html">cppcms::session_pool</a>&amp; cppcms::service::session_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a <a class="el" href="classcppcms_1_1session__pool.html" title="This class provides an access to session management backends an allow customization. ">cppcms::session_pool</a> instance of this service, never used directly by user level applications </p>

</div>
</div>
<a class="anchor" id="a2655891c41745defac52587b4ecae53b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1json_1_1value.html">json::value</a> const&amp; cppcms::service::settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the configuration setting the service was created with. </p>

</div>
</div>
<a class="anchor" id="a5967d1fc10810ae9e5d51dbb8b97ac47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cppcms::service::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop the service event loop. This member function is both thread and signal safe. </p>

</div>
</div>
<a class="anchor" id="a9f52695695783504530983d5d76f44e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1thread__pool.html">cppcms::thread_pool</a>&amp; cppcms::service::thread_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a <a class="el" href="classcppcms_1_1thread__pool.html" title="This class provides an access to the thread pool where all CppCMS synchronous applications are execut...">cppcms::thread_pool</a> instance of this service </p>

</div>
</div>
<a class="anchor" id="aaa1a532d1d319cf5bba29bddda49f71f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cppcms::service::threads_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the size of thread pool each of CppCMS processes will be running. </p>

</div>
</div>
<a class="anchor" id="aecbb177352aa32283f8194fa05c810c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppcms_1_1views_1_1manager.html">cppcms::views::manager</a>&amp; cppcms::service::views_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the <a class="el" href="classcppcms_1_1views_1_1manager.html" title="This class controls the views used my application it knows to load them dynamically and reload if nee...">cppcms::views::manager</a> instance </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cppcms/<a class="el" href="service_8h_source.html">service.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 30 2014 14:31:45 for CppCMS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
